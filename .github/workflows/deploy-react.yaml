name: React deploy via Github Actions

on:
  push:
    branches: ['main']

jobs: 
    deploy-react:
        runs-on: ubuntu@latest

        steps:
          - name: Checkout
            uses: actions/checkout@v4

          - name: Install Node.js
            uses: actions/setup-node@v4
            with:
                node-versions: 21
                
          - name: Install Dependencies
            run: npm install
            
          - name: Build the Application
            run : npm run build
            
          - name: Deploy to Github Pages
            uses: JamesIves/github-pages-deploy-actions@v4
            with:
                folder: build
                branch: prod
                token: ${{secrets.GH_TOKEN}}   